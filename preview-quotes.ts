#!/usr/bin/env ts-node

/**
 * Preview daily quotes - useful for testing and seeing upcoming quotes
 * Usage: npx ts-node preview-quotes.ts [number_of_days]
 */

import { getQuoteOfTheDay, formatQuote, getQuoteCount } from './lib/utils/daily-quotes';

// Get number of days from command line, default to 7
const daysToShow = parseInt(process.argv[2] || '7', 10);

const counts = getQuoteCount();

console.log(`\nðŸ“œ Daily Quotes Preview\n`);
console.log(`ðŸ“š Hardcoded quotes: ${counts.hardcoded}`);
console.log(`ðŸ¤– Claude-generated quotes: ${counts.generated}`);
console.log(`âœ¨ Total quotes in rotation: ${counts.total}\n`);
console.log('â•'.repeat(80));

// Show today's quote
const today = new Date();
console.log(`\nðŸŒŸ TODAY'S QUOTE (${today.toLocaleDateString()}):\n`);
console.log(formatQuote(getQuoteOfTheDay(today)));
console.log('\n' + 'â”€'.repeat(80));

// Show upcoming quotes
if (daysToShow > 1) {
  console.log(`\nðŸ“… UPCOMING QUOTES (next ${daysToShow - 1} days):\n`);
  
  for (let i = 1; i < daysToShow; i++) {
    const date = new Date();
    date.setDate(date.getDate() + i);
    const quote = getQuoteOfTheDay(date);
    
    console.log(`\nDay ${i} - ${date.toLocaleDateString()}:`);
    console.log(`"${quote.text}"`);
    console.log(`â€” ${quote.author}${quote.title ? `, ${quote.title}` : ''}`);
    console.log('â”€'.repeat(80));
  }
}

console.log(`\nâœ¨ Total quotes in rotation: ${counts.total}`);
console.log(`ðŸ“Š Full cycle repeats every ${counts.total} days (~${(counts.total / 30).toFixed(1)} months)`);
if (counts.generated > 0) {
  console.log(`ðŸ¤– ${counts.generated} quotes generated by Claude for variety\n`);
} else {
  console.log(`ðŸ’¡ Run 'npx ts-node manage-quotes.ts generate 50' to add Claude-generated quotes\n`);
}

